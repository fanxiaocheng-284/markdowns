# 回放视频diff问题

## 问题卡点

* 在所有信令遍历查询的状态下，因为所有数据都是通过Object.assign()的方式引用。因为不知名的原因在所有信令跑完之后每条信令内的数据并没有完全按照预计逻辑执行，导致所有的视频状态信令上会有穿插。
* 需要判断视频前跳和后跳状态下都能收到当前时间戳上正在播放的视频消息

## 解决方法

* 不再对所有信令添加videoData消息，通过时间数组排序的方式维护一个时间轴，并建立一个time -> videoData的对象序列（没做完，videoData不是我写的，删除videoData需要勇气😂）
* diff逻辑在跑的时候，把当前时间和数组内时间进行排序，取出前一位的时间，以这个为key，拿出videoData，作为结果，当然，以上两条执行的时候都要分main/sub/desk三类分别操作

## 后续优化

* 对startTime的列表同样要做一个endTime的内容，方便查询
